{% extends "index.html" %}
{% block page_content %}


<div class="container">
<h2>Lista applicazioni installate</h2>
	<div class="row marginRow">
		<div class="col-lg-12 col-md-12 col-xs-12">
			<form id="form" action="/findPkgInstalled" role="form" method = "POST">
			    <div class="input-group input-group-sm col-xs-4">
			      <input type="text" name="pkgSearch" class="form-control col-xs-4" placeholder="Ricerca per nome applicazione">
			      <div class="input-group-btn">
			        <button class="btn btn-default" type="submit"><i class="glyphicon glyphicon-search"></i></button>
			      </div>
			    </div>
			</form>

			<br>
			{% with messages = get_flashed_messages() %}
			  {% if messages %}
			    <ul class=flashes>
			    {% for message in messages %}
			      <li>{{ message }}</li>
			    {% endfor %}
			    </ul>
			  {% endif %}
			{% endwith %}
			<br>
		</div>
	</div>
	<div class="row">
		<div class="col-lg-12 col-md-12 col-xs-12">
			<div id="appList" >
				<table id="generic-table" class= "table-apps" >
					<tr>
						<th> NOME </th>
						<th> VERSIONE </th>
						<th> ARCHITETTURA </th>
						<th> RIEPILOGO </th>
					</tr>

					{% for a in listAppInst.data %}
					<tr>
						<td><a href="{{ url_for('getInfoApp',name = a.name) }}" class="btn btn-link"> {{ a.name }} </a></td>
						<td> {{ a.version }} </td>
						<td> {{ a.architecture }} </td>
						<td> {{ a.summary }} </td>
					</tr>
					{% endfor %}		
				</table>
				</div>
		</div>
	</div>
<br>
<br>
    <button type="button" class="btn btn-primary" data-toggle="modal" data-target="#modalAddRepo">Aggiungi Repo</button>
    <button type="button" class="btn btn-success">Rimuovi Repo</button>
    <button type="button" class="btn btn-warning"> Aggiorna cache pacchetti</button>
    <button type="button" class="btn btn-danger"><a href="#"> Altri repository </a></button>

<div class="modal fade" id="modalAddRepo" role="dialog">
	<div class="modal-dialog">
	  <div class="modal-content">
	    <div class="modal-header">
	      <button type="button" class="close" data-dismiss="modal">&times;</button>
	      <h4 class="modal-title">Inserisci nuova repo</h4>
	    </div>
	    <form id="form" action="/addRepo" role="form" method = "POST">
		    <div class="modal-body">
		      Content: <textarea class="form-control" rows="3" name="contentTextarea" placeholder="Seleziona nuova repo"></textarea>
			  Nome repo:<input type="text" value="{{generatedRepoName}}" name="nameRepo">
		    </div>
		    <div class="modal-footer">
		      	<input type = "submit" value = "Invio" class="btn btn-info btn-default">
          		<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
		    </div>
		</form>
	  </div>
	</div>
</div>
</div>



{% endblock %}